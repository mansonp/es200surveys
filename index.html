<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Exploring Survey Methods</title>
    <meta charset="utf-8" />
    <meta name="author" content="Paul Manson" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <script src="libs/kePrint/kePrint.js"></script>
    <link href="libs/lightable/lightable.css" rel="stylesheet" />
    <script src="https://use.fontawesome.com/5235085b15.js"></script>
    <link rel="stylesheet" href="reed.css" type="text/css" />
    <link rel="stylesheet" href="reed-fonts.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Exploring Survey Methods
]
.subtitle[
## ES 200: Introduction to Environmental Studies
]
.author[
### Paul Manson
]
.date[
### Spring 2023
]

---







layout: true
  
&lt;div class="my-footer"&gt;&lt;img src="./img/logo/reed-college-griffin-red.svg" style="height: 60px;"/&gt;&lt;/div&gt; 

---

class: center, middle, inverse

# Day One: Introduction to Survey Methodology
---
&lt;div class="my-footer"&gt;&lt;img src="./img/logo/reed-college-griffin-red.svg" style="height: 60px;"/&gt;&lt;/div&gt; 

# Day One Outline

- üïµ Why: Motivations for Surveys and Theory
- ‚òéÔ∏è Who: Sampling and Recruitment Challenges
- üí™ Where and How: Administering Surveys
- ‚úÖ What: Basics in Survey Design
- üìä Analyze Data

---
background-image: url("img/survey_overview.png")
background-position: 50% 50%
background-size: 700pt

---
background-image: url("img/tsunamisurvey.png")
background-position: 85% 80%
background-size: 350pt
# What Are Surveys?

- Qualitative AND/OR Quantitative
- Many Types: Interviews, Questionnaires
- Respondent Focus - Who Completes Them
- Many Modes: In-person, Door-to-Door, Intercept, Mail, Phone, Online
- Allow for inferences from Sample to Population

--

###When Not to Use Surveys

- Research Questions are Emergent
- Various Sources of &lt;br&gt; Bias or Error Overwhelm
- Population Hard to Reach


---
background-image: url("img/survey_overview.png")
background-position: 50% 90%
background-size: 600pt

# First: The Why

---
background-image: url("img/theory_obs.png")
background-position: 50% 80%
background-size: 600pt
# The Why: Theory Rules Everything


---
# The Why: Developing Causal Relationships

## ü§î What is a cause and effect you are interested in? What is the Theory?

--

- üåé Climate change beliefs are determined by party identification

- üå≤ Support for protecting natural areas is predicted by frequent visitation or use

- üê≥ Support for marine protected areas is driven by concerns over loss of marine health

- Other ideas?

---

# The Why: Developing Causal Relationships

## ü§î What would you ask to test these relationships?

--

-  üåè Do you believe climate change is happening? ‚û°Ô∏è &lt;br&gt; **Varies by party identification**&lt;br&gt; 

-  üå≤ Willingness to pay for protecting open space, expressed in dollars.  ‚û°Ô∏è &lt;br&gt; **Varies by visit frequency** 
-  üê≥ Hypothetical vote for expanding marine protected areas ‚û°Ô∏è &lt;br&gt; **Varies by perception on marine health** 

- Other ideas?
---
background-image: url("img/survey_overview.png")
background-position: 50% 90%
background-size: 600pt

# Second: The Who
---
background-image: url("https://media.giphy.com/media/l2JedkI7eoVZ4HbOM/giphy.gif")
background-position: 95% 70%
background-size: 300pt

# The Who: Getting People to Participate

## We *could* just ask everyone! (aka Census)
- Time intensive
- Expensive
- Might actually be less accurate! (Might...)

## Sampling Approaches
- Random 
   - Pure Random, Stratified, Systematic
- Purposive and Quota 
- Intercept
- Snowball 
- Convenience 

???

Census can be less accurate if it has systematic errors in coverage that the sample approach can directly address!

---
# Sample Method Drives Inferences

- Random sample allows for inference from sample to population
- Samples need to be carefully drawn:
   - **Population**: (Universe) Definition: Who do we want to Represent?
   - **Frame**: How we Find our Sample
   - **Sample**: Drawn from Frame, assuming proper *coverage*
   
## Remember Unit of Analysis

- Is it the individual? The household? A firm or organization?

   
## Sources of Error

- **Coverage Error**: The Frame has a mismatch!
- **Sampling Error**: Size, Response Rates
   
---
background-image: url("img/sampling.png")
background-position: 50% 75%
background-size: 650pt
# The Who: Sampling and Recruitment

---
# How Many Surveys Do we Need?

&lt;table class="table" style="margin-left: auto; margin-right: auto;border-bottom: 0;"&gt;
 &lt;thead&gt;
&lt;tr&gt;
&lt;th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1"&gt;&lt;div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; "&gt;95% Conf Level &lt;/div&gt;&lt;/th&gt;
&lt;th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2"&gt;&lt;div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; "&gt;10% MOE&lt;/div&gt;&lt;/th&gt;
&lt;th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2"&gt;&lt;div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; "&gt;5% MOE&lt;/div&gt;&lt;/th&gt;
&lt;th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2"&gt;&lt;div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; "&gt;3% MOE&lt;/div&gt;&lt;/th&gt;
&lt;/tr&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Population Size &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; 50-50 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; 80-20 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; 50-50 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; 80-20 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; 50-50 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; 80-20 &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 30em; "&gt; 100 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 49 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 38 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 80 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 71 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 92 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 87 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 30em; "&gt; 200 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 65 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 47 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 132 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 111 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 169 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 155 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 30em; "&gt; 400 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 78 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 53 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 196 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 153 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 291 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 253 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 30em; "&gt; 1000 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 88 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 58 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 278 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 198 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 517 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 406 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 30em; "&gt; 2000 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 92 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 60 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 322 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 219 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 696 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 509 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 30em; "&gt; 10000 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 95 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 61 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 370 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 240 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 965 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 640 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 30em; "&gt; 40000 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 61 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 381 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 244 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 1040 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 672 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 30em; "&gt; 100000 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 61 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 383 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 245 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 1056 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 679 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;width: 30em; "&gt; 1000000 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 96 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 61 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 384 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 246 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 1067 &lt;/td&gt;
   &lt;td style="text-align:right;width: 20em; "&gt; 683 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;tfoot&gt;&lt;tr&gt;&lt;td style="padding: 0; " colspan="100%"&gt;
&lt;sup&gt;&lt;/sup&gt; From Dillman et al 2009&lt;/td&gt;&lt;/tr&gt;&lt;/tfoot&gt;
&lt;/table&gt;

???
The confidence interval is the plus-or-minus figure usually reported in newspaper or television opinion poll results. For example, if you use a confidence interval of 4 and 47% percent of your sample picks an answer you can be ‚Äúsure‚Äù that if you had asked the question of the entire relevant population between 43% (47-4) and 51% (47+4) would have picked that answer.

The confidence level tells you how sure you can be. It is expressed as a percentage and represents how often the true percentage of the population who would pick an answer that lies within the confidence interval. The 95% confidence level means you can be 95% certain; the 99% confidence level means you can be 99% certain. Most researchers work for a 95% confidence level.

When you put the confidence level and the confidence interval together, you can say that you are 95% sure that the true percentage of the population is between 43% and 51%.

---
# Confidence Intervals vs Levels

- **Confidence Intervals** or two times the margin of error, measures the how sure we are of the answer given.
- **Confidence Level** measures how sure we are that the sample, if drawn again, would have the same result.

**Example**: If we are working with a sample size of 384, for a population of over 10 million people, we have a 5% margin of error using the 95% confidence level.

That means our confidence interval is plus or minus 5% on the sample statistic. 

If 52% of the population said they were very sure climate change was happening, we would say we are **95% sure** that the true percentage is **between 47% and 57%**.

If we wanted to narrow that range with the 3% margin of error, we'd **need 1067 responses** (not 384!)


---
background-image: url("img/survey_overview.png")
background-position: 50% 90%
background-size: 600pt

# Next: The Where and How

---
# How: The Many Modes of Survey Administration

## How we connect to Respondents

- Online
- Mail
- Phone
- Text/SMS
- Web Panel
- Door to Door
- Intercept

Each of these involve some form of **recruitment** and may use multiple ways!

**Example**: Post card sent to household inviting to online survey. Follow up with paper survey for non-responses. Final phone call to explore response non-bias.

---
background-image: url("img/thesis.png")
background-position: 98% 80%
background-size: 300pt

# How: The Many Modes of Survey Administration

## How we encourage Responses

- Make a Connection: Cover Letters and Design
- Partnerships: Trusted Entities
- Incentives
- Use your "Student Card"
- Consider Timing - Know your Population

## Response Rates

- Depends on: Non-Contact, Eligibility, &lt;br&gt; Partial Completion, Full Completion


---
background-image: url("img/survey_overview.png")
background-position: 50% 90%
background-size: 600pt

# Finally: The What
---
# The Best for the Last: Questions and How to Create Them

- Measurement Challenges
- Best Practices
- Things to Avoid
- Connect Back to Theory

## ü§î What is a Survey Question you Might Ask?


---

background-image: url("img/reliable_valid.png")
background-position: 50% 100%
background-size: 500pt

# Measurement Challenges

---

background-image: url("img/reliable_valid.png")
background-position: 100% 75%
background-size: 350pt

# Measurement Challenges


- Are we measuring what we want to measure (**Validity**)?
- Are we successful when repeatedly using the measure (**Reliability**)?

## Some examples

- High Validity and High Reliability: &lt;br&gt; **Respondent's age**
- High Validity and Low Reliability: &lt;br&gt; **Assess classroom inclusion and climate**
- Low Validity and High Reliability: &lt;br&gt; **Are you racist?**
- Low Validity and Low Reliability: &lt;br&gt; **Do you support strenological expansion?**




???

"Strenological expansion" is made up. But its an example of things we could get very wrong if we focus on wonky ideas.

---

# Types of Questions

- Open Ended Questions: Text entry or "in their own words"
- Closed-Ended: Choices are pre-determined

- Other
   - Image Based
   - Participatory GIS
   - Text Interactions
   
   
---

# Choices on Question Design

.pull-left[
## Open-Ended
- Information rich (Good and Bad!)
- Does not prejudge right response
- Allows for uncertainty, where researcher does not know what to expect
- A **lot** of work to analyze
]

.pull-right[
## Close-Ended
- Researcher can control responses (analysis strength)
- Comparisons are easier
- Quicker for respondent
- You have to be very careful on choices you offer!
]
---

# Types of Close-Ended Questions

- Dichotomous
   - Yes or No, Checkbox Questions
- Categorical
   - Often demographic or descriptive
- Ordinal (or acting like it!)
   - Likert scale questions: Strongly Agree to Strongly Disagree
- Ratio (rare)
   - Money, thermometers, scales with sliders
   
---

# Anatomy of a Question (aka Item)

- Introduction
- Stem
- Response Options
   - Scale
   - Anchors
   - Odd vs Even Scales (5-pt or 4-pt)
   - Don't Know or Refusal Options
- Presentation Order
   - Questions can be randomized, or reversed
   - Scale can be randomized, or reversed
- Skip or Presentation Logic
   - Present questions based on other responses (aka Fork)
- Soft Requires and Hard Requires
   - Soft: Respondent offerred a second chance if they skip
   - Hard: Respondent can not proceed without answer (consent examople)
   


---

# Danger! Things to Avoid! üíÄ

- Double Barrel Questions:&lt;br&gt; "Do you agree Renn Fayre is safe and fun?"

- Biased Questions:&lt;br&gt; "Do you support climate heroes working to stop oil companies?"

- Overly Leading: &lt;br&gt; "Do you love Reed College?"

- Ambiguous or Jargon-loaded:&lt;br&gt; "Do you never oppose fracking on BLM lands?"

- Mis-matched Stem and Response Options: &lt;br&gt; "Do you recycle at home? Every week, occsasisionally, never."

- Unbalanced Response Options:&lt;br&gt; "Disagree, Neither Agree nor Disasgree, Agree, Stronly Agree"

---

# Awesome! Things to Definately Do! ‚ù§Ô∏è

- Use Visual Design&lt;br&gt; White space, approachable design or colors, images.

- Language and Accessibility:&lt;br&gt; Can everyone in your population participate? Translation or other tools to help with accessibility?

- Make the Benefit Clear: &lt;br&gt; How can your research change the world?

- Incentives: Small tokens go a long way. Can be raffle or payment for all.

- Do no Harm:&lt;br&gt; Remember your ethical obligations, do no harm to respondents

---

background-image: url("img/survey_overview.png")
background-position: 50% 90%
background-size: 600pt

# You Made It! üèÜ

---
# Preview on Analysis

## Response Rates and Weights

- Even if we draw the perfect sample, we miss some people.
- Use of weights to adjust results to capture over and under-representation

## Types of Weights

- **Design Weights**: We might add more people we know are likely to get missed into our sample draw.

- **Post-Stratification/Non-Response**: Once we have our sample, we can adjust to match population characteristics.


---

# Discuss Survey Codebook

## ü§î What questions interested you?

## üßô‚Äç‚ôÇÔ∏è What other variables would you use to understand question responses?

## ü§π In groups: Discuss questions and analyses you might explore! (Keep these ideas, we will use them!)

---
class: center, middle, inverse

# Day Two: Analyzing Survey Data

---
&lt;div class="my-footer"&gt;&lt;img src="./img/logo/reed-college-griffin-red.svg" style="height: 60px;"/&gt;&lt;/div&gt; 

# Day Two Outline

- üöö Accessing Existing Survey Datasets
- üß∫ Loading into R and Wrangling
- üß≠ Exploring the Data
- üìä Analyze and Present Data
- üèó Designing in Qualtrics

---

# Exploring Climate Attitudes


```r
library(pacman)
p_load(srvyr, gtsummary, sjmisc, haven, tidyverse)


nsee2017 &lt;- read_sav("data/nsee2017.sav")

gw_table &lt;- nsee2017 %&gt;%
*  select(gw_belief, Weight) %&gt;%
   mutate(across(where(is.labelled), ~as_factor(.x) %&gt;% fct_drop)) %&gt;%
   as_survey_design(weight=Weight) %&gt;% 
   tbl_svysummary(include=-Weight, missing = "no") %&gt;%
   as_kable_extra()
```
---
# The Results

&lt;table style="NAborder-bottom: 0;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Characteristic &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; N = 929 &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Is there solid evidence avg temp on earth has been warming in past 4 decades &lt;/td&gt;
   &lt;td style="text-align:center;"&gt;  &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;padding-left: 2em;" indentlevel="1"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 649 (70%) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;padding-left: 2em;" indentlevel="1"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 170 (18%) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;padding-left: 2em;" indentlevel="1"&gt; 98 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 108 (12%) &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;tfoot&gt;&lt;tr&gt;&lt;td style="padding: 0; " colspan="100%"&gt;
&lt;sup&gt;1&lt;/sup&gt; n (%)&lt;/td&gt;&lt;/tr&gt;&lt;/tfoot&gt;
&lt;/table&gt;

---

# RMarkdown Basics




---

# Assignment Instructions

## Select several variables and conduct some initial exploratory data work


---
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="js/ru_xaringan.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
